‚úÖ
 Lab Exercise: Install Ansible in Fedora & 
Configure Inventory
üîπ
 Step 1: Update the System
sudo dnf update -y
 Step 2: Install Ansible
üîπ
In Fedora, Ansible is available via dnf.
sudo dnf install ansible -y
Verify installation:
ansible --version
You should see Ansible version details.
üîπ
 Step 3: Check Inventory File Location
Default inventory file:
/etc/ansible/hosts
Open it:
sudo nano /etc/ansible/hosts
üîπ
üü¢
 Step 4: Configure Inventory
If Using Single VM (Localhost) in last line 
Add:
[local]
localhost ansible_connection=local
Save and exit.(ctrl+o ,enter ,Ctrl+x)
ÔøΩ
ÔøΩ
If Using Two VMs (Control + Target)
Example:
[web]
192.168.1.20 ansible_user=your_username
Replace:
‚Ä¢ 192.168.1.20 ‚Üí Target VM IP
‚Ä¢ your_username ‚Üí Target VM username
üîπ
 Step 5: Setup SSH (If Using Multiple VMs)
On control node:
ssh-keygen
ssh-copy-id username@target-ip
Test connection:
ssh username@target-ip
It should log in without password.
üîπ
Run:
 Step 6: Test Inventory
ansible all -m ping
Expected output:
SUCCESS => {
    "ping": "pong"
}

‚Ä¢next ex
ÔøΩ
ÔøΩ 
STEP-BY-STEP: Ansible Ad-hoc Commands
& Playbook on Fedora
PART 1: Run Ad-hoc Commands
Step 1: Open Terminal
‚Ä¢ Use the terminal in your Fedora VM.
Step 2: Test Connectivity (Ping Module)
ansible all -m ping
‚Ä¢ all ‚Üí runs on all hosts in inventory
‚Ä¢-m ping ‚Üí uses the ping module
Expected Output:
localhost | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
Step 3: Run a Simple Command
Check system uptime:
ansible all -m command -a "uptime"
‚Ä¢ command ‚Üí module to run Linux commands
‚Ä¢-a "uptime" ‚Üí argument is the command
Expected Output:
localhost | CHANGED | rc=0 >>
 14:11:53 up 25 min,  1 user,  load average: 0.12, 0.24, 0.23
Step 4: Check Disk Space
ansible all -m command -a "df -h"
‚Ä¢ Displays available disk space and usage.
Step 5: Install a Package (git example)
On Fedora 34+ you must specify DNF 5 backend:
ansible all -m dnf -a "name=git state=present use_backend=dnf5" --become --ask
become-pass
‚Ä¢ dnf ‚Üí package manager module
‚Ä¢ state=present ‚Üí ensures package is installed
‚Ä¢ use_backend=dnf5 ‚Üí explicitly use DNF 5
‚Ä¢--become ‚Üí run with sudo
‚Ä¢--ask-become-pass ‚Üí prompts for your sudo password
Note: If git is already installed, Ansible will show it as ‚Äúok‚Äù instead of ‚Äúchanged.‚Äù
Step 6: Install & Start Apache (optional via ad-hoc)
ansible all -m dnf -a "name=httpd state=present use_backend=dnf5" --become --ask
become-pass
ansible all -m service -a "name=httpd state=started" --become --ask-become-pass
‚Ä¢ Ensures Apache is installed and running.
PART 2: Create and Run a Playbook
Step 1: Create Playbook File
nano start_httpd.yml
Step 2: Write Playbook Content
Copy the following:---- name: Start Apache Service
  hosts: local
  become: yes
  tasks:
    - name: Start Apache
      service:
        name: httpd
        state: started
‚Ä¢ hosts: local ‚Üí runs on localhost group
‚Ä¢ become: yes ‚Üí use sudo
‚Ä¢ tasks ‚Üí list of tasks to perform
Save and exit: CTRL + O, Enter, CTRL + X
Step 3: Run the Playbook
ansible-playbook start_httpd.yml --ask-become-pass
‚Ä¢ Enter your Fedora sudo password whansible all -m service -a "name=httpd 
state=stopped" --become --ask-become-passen prompted.
‚Ä¢ Output will show task execution:
TASK [Start Apache] ***************************************************************
changed: [localhost]
Step 4: Verify Apache
systemctl status httpd
‚Ä¢ Should show Active: active (running) ‚úÖ
Or open a browser in the VM:
http://localhost
‚Ä¢ Apache welcome page should appear.
Step 5: Optional ‚Äì Stop Apache
ansible all -m service -a "name=httpd state=stopped" --become --ask-become-pass
